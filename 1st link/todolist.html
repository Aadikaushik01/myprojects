<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fac7f3;
        }
        
        .container {
            max-width: 400px;
            margin: 40px auto;
            padding: 20px;
            background-color: #02145e;
            border: 1px solid #ddd;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 52px;
        }
        
        .one {
            width: 90%;
            height: 40px;
            margin-bottom: 20px;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 20px;

        }
        
        .div {
            padding: 20px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            color: rgb(25, 5, 1);
            background-color: antiquewhite;
            font-size: 20px;
            border-radius: 15px;

        }
        button{
            background-color: #aab0aa;
            color: white;
           margin-right: 15px;
        }

    </style>
</head>
<body>
    <div class="container">
        <input type="text" class="one" placeholder="Enter the task">
        <div class="div">
            <!-- content will be added here -->
        </div>
    </div>
    <script >
        let inp = document.querySelector(".one");
let div = document.querySelector(".div");

window.addEventListener("load", () => {
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks.forEach(task => addtodom(task.id, task.text, task.completed));
});

inp.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {       
        if(inp.value.trim() !== ""){
            let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
            let newId = tasks.length ? tasks[tasks.length - 1].id + 1 : 1;
            addtodom(newId, inp.value, false);
            saveTask(newId, inp.value, false);
            inp.value = "";
        } else {
            inp.value = "";          
        }
    }  
})

function saveTask(id, text, completed) {
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks.push({ id, text, completed });
    localStorage.setItem("tasks", JSON.stringify(tasks));
}

function deleteTask(id) {
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks = tasks.filter(task => task.id !== id);
    localStorage.setItem("tasks", JSON.stringify(tasks));
}

function editTask(id, newText) {
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks = tasks.map(task => task.id === id ? { ...task, text: newText } : task);
    localStorage.setItem("tasks", JSON.stringify(tasks));
}

function toggleTask(id, completed) {
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks = tasks.map(task => task.id === id ? { ...task, completed } : task);
    localStorage.setItem("tasks", JSON.stringify(tasks));
}

function addtodom(id, text, completed) {
    let inpdiv = document.createElement("div");
    let checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.checked = completed;
    let span = document.createElement("span");
    span.innerText = text;
    if (completed) span.style.textDecoration = "line-through";

    let delbtn = document.createElement("button");
    delbtn.innerText = "Delete";
    let editbtn = document.createElement("button");
    editbtn.innerText = "Edit";

    inpdiv.appendChild(span);
    inpdiv.appendChild(checkbox);
    inpdiv.appendChild(delbtn);
    inpdiv.appendChild(editbtn);
    div.appendChild(inpdiv);

    checkbox.addEventListener("change", () => {
        span.style.textDecoration = checkbox.checked ? "line-through" : "none";
        toggleTask(id, checkbox.checked);
    });

    delbtn.addEventListener("click", () => {
        div.removeChild(inpdiv);
        deleteTask(id);
    });

    editbtn.addEventListener("click", () => {
        let newText = prompt("Edit your item:", span.innerText);
        if (newText !== null && newText.trim() !== "") {
            span.innerText = newText;
            editTask(id, newText);
        }
    });
}
    </script>
</body>
</html>


